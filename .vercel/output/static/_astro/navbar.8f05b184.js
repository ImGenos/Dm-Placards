import{j as e}from"./jsx-runtime.ec32632c.js";import{r as s}from"./index.fa732fd6.js";import{u as L,f as P,a as T,P as I,L as B,b as G,m as y}from"./motion.cbc420ad.js";function O(t){const r=i=>typeof window<"u"?window.matchMedia(i).matches:!1,[n,a]=s.useState(r(t));function u(){a(r(t))}return s.useEffect(()=>{const i=window.matchMedia(t);return u(),i.addListener?i.addListener(u):i.addEventListener("change",u),()=>{i.removeListener?i.removeListener(u):i.removeEventListener("change",u)}},[t]),n}function M(){const t=s.useRef(!1);return L(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function F(){const t=M(),[r,n]=s.useState(0),a=s.useCallback(()=>{t.current&&n(r+1)},[r]);return[s.useCallback(()=>P.postRender(a),[a]),r]}class H extends s.Component{getSnapshotBeforeUpdate(r){const n=this.props.childRef.current;if(n&&r.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function A({children:t,isPresent:r}){const n=s.useId(),a=s.useRef(null),u=s.useRef({width:0,height:0,top:0,left:0});return s.useInsertionEffect(()=>{const{width:i,height:c,top:o,left:x}=u.current;if(r||!a.current||!i||!c)return;a.current.dataset.motionPopId=n;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${c}px !important;
            top: ${o}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[r]),s.createElement(H,{isPresent:r,childRef:a,sizeRef:u},s.cloneElement(t,{ref:a}))}const $=({children:t,initial:r,isPresent:n,onExitComplete:a,custom:u,presenceAffectsLayout:i,mode:c})=>{const o=T(D),x=s.useId(),h=s.useMemo(()=>({id:x,initial:r,isPresent:n,custom:u,onExitComplete:l=>{o.set(l,!0);for(const f of o.values())if(!f)return;a&&a()},register:l=>(o.set(l,!1),()=>o.delete(l))}),i?void 0:[n]);return s.useMemo(()=>{o.forEach((l,f)=>o.set(f,!1))},[n]),s.useEffect(()=>{!n&&!o.size&&a&&a()},[n]),c==="popLayout"&&(t=s.createElement(A,{isPresent:n},t)),s.createElement(I.Provider,{value:h},t)};function D(){return new Map}function U(t){return s.useEffect(()=>()=>t(),[])}const j=t=>t.key||"";function V(t,r){t.forEach(n=>{const a=j(n);r.set(a,n)})}function K(t){const r=[];return s.Children.forEach(t,n=>{s.isValidElement(n)&&r.push(n)}),r}const W=({children:t,custom:r,initial:n=!0,onExitComplete:a,exitBeforeEnter:u,presenceAffectsLayout:i=!0,mode:c="sync"})=>{const o=s.useContext(B).forceRender||F()[0],x=M(),h=K(t);let l=h;const f=s.useRef(new Map).current,g=s.useRef(l),b=s.useRef(new Map).current,w=s.useRef(!0);if(L(()=>{w.current=!1,V(h,b),g.current=l}),U(()=>{w.current=!0,b.clear(),f.clear()}),w.current)return s.createElement(s.Fragment,null,l.map(d=>s.createElement($,{key:j(d),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:c},d)));l=[...l];const N=g.current.map(j),k=h.map(j),C=N.length;for(let d=0;d<C;d++){const m=N[d];k.indexOf(m)===-1&&!f.has(m)&&f.set(m,void 0)}return c==="wait"&&f.size&&(l=[]),f.forEach((d,m)=>{if(k.indexOf(m)!==-1)return;const p=b.get(m);if(!p)return;const R=N.indexOf(m);let v=d;if(!v){const E=()=>{b.delete(m),f.delete(m);const z=g.current.findIndex(S=>S.key===m);if(g.current.splice(z,1),!f.size){if(g.current=h,x.current===!1)return;o(),a&&a()}};v=s.createElement($,{key:j(p),isPresent:!1,onExitComplete:E,custom:r,presenceAffectsLayout:i,mode:c},p),f.set(m,v)}l.splice(R,0,v)}),l=l.map(d=>{const m=d.key;return f.has(m)?d:s.createElement($,{key:j(d),isPresent:!0,presenceAffectsLayout:i,mode:c},d)}),s.createElement(s.Fragment,null,f.size?l:l.map(d=>s.cloneElement(d)))},Y=()=>{const[t,r]=s.useState(!1),[n,a]=s.useState(!1),[u,i]=s.useState(!1),c=O("(min-width: 1280px)");s.useEffect(()=>{const p=()=>{a(window.scrollY>50)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const o="text-xl leading-6 font-jost text-primary-200 hover:text-accent transition-all relative group",x="after:content-[''] after:absolute after:h-[2px] after:w-0 after:left-0 after:bottom-[-4px] after:bg-accent after:transition-all group-hover:after:w-full",h=8,l=2,g=`${(h-l)/2+.2}rem`,b=`h-[${h}rem]`,w=`h-[${l}rem]`,N="h-20",k=[{title:"Sous Pentes",href:"/galerie/sous-pentes",image:"/src/Galerie/sous-pente/1.jpg",description:"Aménagements sous pente sur mesure"},{title:"Dressing",href:"/galerie/dressing",image:"/src/Galerie/dressing/1.jpg",description:"Dressings personnalisés et fonctionnels"},{title:"Bibliothèque",href:"/galerie/bibliotheque",image:"/src/Galerie/biblio/1.jpg",description:"Bibliothèques élégantes et pratiques"}];s.useEffect(()=>(t&&!c?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t,c]);let C;const d=()=>{clearTimeout(C),i(!0)},m=()=>{C=setTimeout(()=>{i(!1)},300)};return e.jsx("div",{className:`w-full sticky top-0 z-50 transition-all duration-300 ${n?"bg-background shadow-md":"bg-background"}`,children:e.jsxs("div",{className:"max-w-[1200px] m-auto w-full relative",style:{paddingTop:g,paddingBottom:g},children:[e.jsx("div",{className:"absolute left-0 z-20 px-6 md:px-12 xl:px-0",style:{top:"0px"},children:e.jsx("a",{href:"/","aria-label":"Go to homepage",className:`flex items-center ${c?b:N}`,children:e.jsx(G,{})})}),e.jsx("div",{className:`w-full flex justify-between items-center px-6 md:px-12 xl:px-0 relative z-10 ${w}`,children:e.jsxs("div",{className:"ml-auto flex items-center h-full",children:[c&&e.jsxs("nav",{className:"flex flex-row gap-8 items-center",children:[e.jsx("a",{href:"/",className:`${o} ${x}`,children:"Accueil"}),e.jsx("a",{href:"/about",className:`${o} ${x}`,children:"À Propos"}),e.jsx("a",{href:"/services",className:`${o} ${x}`,children:"Services"}),e.jsxs("div",{className:"relative",onMouseEnter:d,onMouseLeave:m,children:[e.jsxs("a",{href:"/galerie",className:`${o} ${x} flex items-center gap-1`,children:["Galerie",e.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(W,{children:u&&e.jsx(y.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full left-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-100 overflow-hidden z-50",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-dm font-semibold text-primary-200 mb-3",children:"Nos Réalisations"}),e.jsx("div",{className:"space-y-3",children:k.map((p,R)=>e.jsxs(y.a,{href:p.href,className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200 group",whileHover:{x:4},transition:{duration:.2},children:[e.jsxs("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",children:[e.jsx("img",{src:p.image,srcSet:`${p.image} 1x, ${p.image.replace("/1.jpg","@2x.jpg")} 2x`,sizes:"(max-width: 1280px) 80px, 100px",alt:p.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:v=>{const E=p.image.replace("/1.jpg","/01.jpg");v.currentTarget.src!==E&&(v.currentTarget.src=E)}}),e.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/20 transition-opacity"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-dm font-semibold text-primary-200 group-hover:text-accent transition-colors",children:p.title}),e.jsx("p",{className:"text-sm text-text-gray font-jost mt-1",children:p.description})]}),e.jsx("svg",{className:"w-4 h-4 text-text-gray group-hover:text-accent transition-colors opacity-0 group-hover:opacity-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},R))}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:e.jsx("a",{href:"/galerie",className:"block text-center py-2 px-4 bg-accent hover:bg-accent/90 text-white rounded-lg font-jost font-medium transition-colors duration-200",children:"Voir toute la galerie"})})]})})})]}),e.jsx("a",{href:"/contact",className:`${o} ml-8 btn btn-outline rounded-full py-2 px-6`,children:"Nous Contacter"})]}),!c&&e.jsxs("div",{onClick:()=>{!t&&!c&&window.scrollTo({top:1,behavior:"smooth"}),r(!t)},className:"space-y-1 cursor-pointer z-30","aria-label":"Toggle menu","aria-expanded":t,children:[e.jsx(y.span,{animate:{rotateZ:t?45:0,y:t?8:0},className:"block h-0.5 w-8 bg-primary-200"}),e.jsx(y.span,{animate:{width:t?0:24},className:"block h-0.5 w-6 bg-primary-200"}),e.jsx(y.span,{animate:{rotateZ:t?-45:0,y:t?-8:0,width:t?32:16},className:"block h-0.5 w-4 bg-primary-200"})]})]})}),t&&!c&&e.jsxs(e.Fragment,{children:[e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-primary-200 bg-opacity-30 backdrop-blur-sm z-40",onClick:()=>r(!1)}),e.jsx(y.nav,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:"0%"},exit:{opacity:0,x:"100%"},transition:{type:"tween",duration:.3},className:"flex flex-col fixed top-0 right-0 h-screen bg-background w-[75%] md:w-[50%] text-primary-200 gap-6 items-center justify-center z-50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col gap-6 items-center",children:[e.jsx("a",{href:"/",className:`${o} text-2xl`,onClick:()=>r(!1),children:"Accueil"}),e.jsx("a",{href:"/about",className:`${o} text-2xl`,onClick:()=>r(!1),children:"À Propos"}),e.jsx("a",{href:"/services",className:`${o} text-2xl`,onClick:()=>r(!1),children:"Services"}),e.jsx("a",{href:"/galerie",className:`${o} text-2xl`,onClick:()=>r(!1),children:"Galerie"}),e.jsx("a",{href:"/contact",className:"mt-4 btn btn-primary rounded-full py-3 px-8 text-xl",onClick:()=>r(!1),children:"Nous Contacter"})]})})]})]})})};export{Y as default};
